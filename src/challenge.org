#+title: Practice
#+subtitle:
#+author: Alberto Valdez
#+SETUPFILE: ../config/org-theme-alt.config
#+SETUPFILE: ../config/org-header.config
#+PROPERTY: header-args:elisp :exports none :results value silent

* Problem

Learning about plotly.

* Suggested Solution

This document.

* Resources

#+NAME: filepath
#+begin_src elisp
"../resources/index.html"
#+end_src

#+NAME: scriptpath
#+begin_src elisp
"../resources/plots.js"
#+end_src

#+NAME: getters
#+begin_src elisp
(defun filepath () "" <<filepath>>)
(defun scriptpath () "" <<scriptpath>>)
#+end_src

This is our HTML template. We import plotly as a script in the header of the file.

#+RESULTS:
#+begin_src html :tangle (filepath)
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Basic Charts</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div id="plotArea"></div>
    <script src= <<scriptpath>> ></script>
</body>
</html>
#+end_src

We can create a new chart with this simple script.

#+NAME: plots
#+begin_src typescript :results silent value file :file (scriptpath)
Plotly.newPlot("plotArea", [{x: [1, 2, 3], y: [10, 20, 30]}]);
#+end_src

Let's see it.
#+begin_src shell :results silent
open <<filepath>>
#+end_src

Now let's do it again.

#+NAME: plots2
#+begin_src typescript :results silent value file :file (scriptpath)
Plotly.newPlot("plotArea", [{x: [5, 10, 15], y: [10, 20, 30]}]);
#+end_src
